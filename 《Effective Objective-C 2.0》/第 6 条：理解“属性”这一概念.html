<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="exporter-version" content="Evernote Mac 6.3 (452849)"/><meta name="altitude" content="14.22299194335938"/><meta name="author" content="郭嘉"/><meta name="created" content="2016-01-05 11:08:24 +0000"/><meta name="latitude" content="30.22822991128422"/><meta name="longitude" content="120.0331568506173"/><meta name="source" content="desktop.mac"/><meta name="updated" content="2016-01-07 12:37:20 +0000"/><title>第 6 条：理解“属性”这一概念</title></head><body>
<div>
<p style="text-align: justify; word-break: break-word; color: rgb(47, 47, 47); font-family: 'lucida grande', 'lucida sans unicode', lucida, helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif; font-size: 16px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 250, 242);">“属性”（property）是 OC 的一项特性，用于封装对象中的数据。例如：</p>
<pre style="padding: 9.5px; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; color: rgb(101, 123, 131); border-radius: 4px; word-break: break-all; word-wrap: normal; white-space: pre; border: 1px solid rgba(0, 0, 0, 0.14902); overflow: auto; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background: rgb(253, 246, 227);">
<code style="padding: 0px; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 12px; color: rgb(101, 123, 131); border-radius: 3px; border: none; white-space: pre; background-color: transparent;"><span style="color: rgb(133, 153, 0);">@interface</span> <span style="color: rgb(181, 137, 0);">EOCPerson</span> : <span style="color: rgb(181, 137, 0);">NSObject</span>
<span style="color: rgb(133, 153, 0);">@property</span> (<span style="color: rgb(133, 153, 0);">nonatomic</span>, <span style="color: rgb(133, 153, 0);">copy</span>) <span style="color: rgb(38, 139, 210);">NSString</span> *firstName;
<span style="color: rgb(133, 153, 0);">@property</span> (<span style="color: rgb(133, 153, 0);">nonatomic</span>, <span style="color: rgb(133, 153, 0);">copy</span>) <span style="color: rgb(38, 139, 210);">NSString</span> *lastName;
<span style="color: rgb(133, 153, 0);">@end</span></code>
</pre>
<p style="text-align: justify; word-break: break-word; color: rgb(47, 47, 47); font-family: 'lucida grande', 'lucida sans unicode', lucida, helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif; font-size: 16px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 250, 242);">上述代码相当于：</p>
<pre style="padding: 9.5px; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; color: rgb(101, 123, 131); border-radius: 4px; word-break: break-all; word-wrap: normal; white-space: pre; border: 1px solid rgba(0, 0, 0, 0.14902); overflow: auto; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background: rgb(253, 246, 227);">
<code style="padding: 0px; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 12px; color: rgb(101, 123, 131); border-radius: 3px; border: none; white-space: pre; background-color: transparent;"><span style="color: rgb(133, 153, 0);">@interface</span> <span style="color: rgb(181, 137, 0);">EOCPerson</span> : <span style="color: rgb(181, 137, 0);">NSObject</span>
- (<span style="color: rgb(38, 139, 210);">NSString</span>*)firstName;
- (<span style="color: rgb(133, 153, 0);">void</span>)setFirstName:(<span style="color: rgb(38, 139, 210);">NSString</span>*)firstName;
- (<span style="color: rgb(38, 139, 210);">NSString</span>*)lastName;
- (<span style="color: rgb(133, 153, 0);">void</span>)setLastName:(<span style="color: rgb(38, 139, 210);">NSString</span>*)lastName;
<span style="color: rgb(133, 153, 0);">@end</span></code>
</pre>
<p style="text-align: justify; word-break: break-word; color: rgb(47, 47, 47); font-family: 'lucida grande', 'lucida sans unicode', lucida, helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif; font-size: 16px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 250, 242);">访问属性时，使用点语法和直接调用存取效果相同。示例代码：</p>
<pre style="padding: 9.5px; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; color: rgb(101, 123, 131); border-radius: 4px; word-break: break-all; word-wrap: normal; white-space: pre; border: 1px solid rgba(0, 0, 0, 0.14902); overflow: auto; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background: rgb(253, 246, 227);">
<code style="padding: 0px; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 12px; color: rgb(101, 123, 131); border-radius: 3px; border: none; white-space: pre; background-color: transparent;">EOCPerson *aPerson = [EOCPerson new];

aPerson<span style="color: rgb(181, 137, 0);">.firstName</span> = <span style="color: rgb(42, 161, 152);">@"Bob"</span>; <span style="color: rgb(147, 161, 161);">//same as:</span>
[aPerson setFirstName:<span style="color: rgb(42, 161, 152);">@"Bob"</span>];

<span style="color: rgb(38, 139, 210);">NSString</span> *lastName = aPerson<span style="color: rgb(181, 137, 0);">.lastName</span>; <span style="color: rgb(147, 161, 161);">//same as:</span>
<span style="color: rgb(38, 139, 210);">NSString</span> *lastName = [aPerson lastName];</code>
</pre>
<blockquote style="padding: 10px 15px; border-left-width: 4px; border-left-style: solid; border-left-color: rgb(153, 153, 153); word-break: break-word; font-size: 15px; font-weight: 100; color: rgb(47, 47, 47); font-family: 'lucida grande', 'lucida sans unicode', lucida, helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif; font-style: normal; font-variant: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: whitesmoke;">
<p style="font-size: 15px; font-weight: normal; text-align: justify; word-break: break-word;">若在实现文件中使用 <code style="padding: 2px 4px; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 12px; color: rgb(101, 123, 131); border-radius: 3px; border: none; white-space: pre-wrap; background-color: rgb(253, 246, 227);">@dynamic</code> 关键字，则编译器不会为上面这个类自动合成存取方法或实例变量。</p>
</blockquote>
<h2 style="font-family: 'lucida grande', 'lucida sans unicode', lucida, helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif; font-weight: bold; color: rgb(47, 47, 47); text-rendering: optimizeLegibility; font-size: 24px; font-style: normal; font-variant: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 250, 242);">属性特质</h2>
<p style="text-align: justify; word-break: break-word; color: rgb(47, 47, 47); font-family: 'lucida grande', 'lucida sans unicode', lucida, helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif; font-size: 16px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 250, 242);">各种属性特质(attribute)会影响编译器生成的存取方法。例如下面属性指定了三项特质(nonatomic, readwrite, copy)：</p>
<pre style="padding: 9.5px; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; color: rgb(101, 123, 131); border-radius: 4px; word-break: break-all; word-wrap: normal; white-space: pre; border: 1px solid rgba(0, 0, 0, 0.14902); overflow: auto; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background: rgb(253, 246, 227);">
<code style="padding: 0px; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 12px; color: rgb(101, 123, 131); border-radius: 3px; border: none; white-space: pre; background-color: transparent;"><span style="color: rgb(133, 153, 0);">@property</span> (<span style="color: rgb(133, 153, 0);">nonatomic</span>, <span style="color: rgb(133, 153, 0);">readwrite</span>, <span style="color: rgb(133, 153, 0);">copy</span>) <span style="color: rgb(38, 139, 210);">NSString</span> *firstName;</code>
</pre>
<p style="text-align: justify; word-break: break-word; color: rgb(47, 47, 47); font-family: 'lucida grande', 'lucida sans unicode', lucida, helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif; font-size: 16px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 250, 242);">属性的特质分为四类：</p>
<ul style="padding: 0px; text-align: justify; word-break: break-word; color: rgb(47, 47, 47); font-family: 'lucida grande', 'lucida sans unicode', lucida, helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif; font-size: 16px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 250, 242);">
<li>
<p style=" text-align: justify; word-break: break-word; overflow: visible;">原子性<br/>
默认情况下，由编译器合成的方法会通过锁定机制确保其原子性（atomicity）。若属性具备 <code style="padding: 2px 4px; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 12px; color: rgb(101, 123, 131); border-radius: 3px; border: none; white-space: pre-wrap; background-color: rgb(253, 246, 227);">nonatomic</code> 特质，则不使用同步锁。</p>
<blockquote style="padding: 10px 15px; border-left-width: 4px; border-left-style: solid; border-left-color: rgb(153, 153, 153); word-break: break-word; font-size: 15px; font-weight: 100; background-color: whitesmoke;">
<p style="font-size: 15px; font-weight: normal; text-align: justify; word-break: break-word; overflow: visible;">注：尽管没有名为 <code style="padding: 2px 4px; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 12px; color: rgb(101, 123, 131); border-radius: 3px; border: none; white-space: pre-wrap; background-color: rgb(253, 246, 227);">atomic</code> 的特质（若某属性不具备 <code style="padding: 2px 4px; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 12px; color: rgb(101, 123, 131); border-radius: 3px; border: none; white-space: pre-wrap; background-color: rgb(253, 246, 227);">nonatomic</code> 特质，那它就是“原子的”（atomic）），写了也不会报错。</p>
</blockquote>
</li>
<li>
<p style=" text-align: justify; word-break: break-word; overflow: visible;">读/写权限<br/>
具备 <code style="padding: 2px 4px; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 12px; color: rgb(101, 123, 131); border-radius: 3px; border: none; white-space: pre-wrap; background-color: rgb(253, 246, 227);">readwrite</code> （读写）特质的属性有 <code style="padding: 2px 4px; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 12px; color: rgb(101, 123, 131); border-radius: 3px; border: none; white-space: pre-wrap; background-color: rgb(253, 246, 227);">getter</code> 和 <code style="padding: 2px 4px; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 12px; color: rgb(101, 123, 131); border-radius: 3px; border: none; white-space: pre-wrap; background-color: rgb(253, 246, 227);">setter</code> 方法。<br/>
具备 <code style="padding: 2px 4px; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 12px; color: rgb(101, 123, 131); border-radius: 3px; border: none; white-space: pre-wrap; background-color: rgb(253, 246, 227);">readonly</code> （只读）特质的属性仅有 <code style="padding: 2px 4px; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 12px; color: rgb(101, 123, 131); border-radius: 3px; border: none; white-space: pre-wrap; background-color: rgb(253, 246, 227);">getter</code> 方法。</p>
<blockquote style="padding: 10px 15px; border-left-width: 4px; border-left-style: solid; border-left-color: rgb(153, 153, 153); word-break: break-word; font-size: 15px; font-weight: 100; background-color: whitesmoke;">
<p style="font-size: 15px; font-weight: normal; text-align: justify; word-break: break-word; overflow: visible;">若由 <code style="padding: 2px 4px; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 12px; color: rgb(101, 123, 131); border-radius: 3px; border: none; white-space: pre-wrap; background-color: rgb(253, 246, 227);">@synthesize</code> 实现，则编译器会自动生成存取方法。</p>
</blockquote>
</li>
<li>
<p style=" text-align: justify; word-break: break-word; overflow: visible;">内存管理语义<br/>
<strong style="font-weight: bold;">assign：</strong>只会执行针对“纯量属性”（scalar type，例如<code style="padding: 2px 4px; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 12px; color: rgb(101, 123, 131); border-radius: 3px; border: none; white-space: pre-wrap; background-color: rgb(253, 246, 227);">CGFloat</code>或<code style="padding: 2px 4px; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 12px; color: rgb(101, 123, 131); border-radius: 3px; border: none; white-space: pre-wrap; background-color: rgb(253, 246, 227);">NSInteger</code>等）的简单赋值操作。<br/>
<strong style="font-weight: bold;">strong：</strong>定义了一种“拥有关系”（owning relationship）。为这种属性设置新值时，设置方法会先保留新值，并释放旧值，然后再设置新值。<br/>
<strong style="font-weight: bold;">weak：</strong>定义了一种“非拥有关系”（nonowning relationship）。为这种属性设置新值时，设置方法会既不保留新值，也不释放旧值。类似 <strong style="font-weight: bold;">assign</strong>，然而，属性值所指的对象被摧毁时，属性值会清空 (nil out)。<br/>
<strong style="font-weight: bold;">copy：</strong>与<strong style="font-weight: bold;">strong</strong>类似。但设置不保留新值，而是“拷贝”（copy）。常用来保护 <code style="padding: 2px 4px; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 12px; color: rgb(101, 123, 131); border-radius: 3px; border: none; white-space: pre-wrap; background-color: rgb(253, 246, 227);">NSString*</code> 的封装性。</p>
</li>
<li>
<p style=" text-align: justify; word-break: break-word; overflow: visible;">方法名<br/>
指定存取方式的方法名。<br/>
<strong style="font-weight: bold;">getter=&lt;name&gt;</strong> 例如：</p>
<pre style="padding: 9.5px; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; color: rgb(101, 123, 131); border-radius: 4px; word-break: break-all; word-wrap: normal; white-space: pre; border: 1px solid rgba(0, 0, 0, 0.14902); overflow: auto; background: rgb(253, 246, 227);">
<code style="padding: 0px; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 12px; color: rgb(101, 123, 131); border-radius: 3px; border: none; white-space: pre; background-color: transparent;"><span style="color: rgb(133, 153, 0);">@property</span> (<span style="color: rgb(133, 153, 0);">nonatomic</span>, getter=isOn) <span style="color: rgb(38, 139, 210);">BOOL</span> on;</code>
</pre>
<p style=" text-align: justify; word-break: break-word; overflow: visible;"><strong style="font-weight: bold;">setter=&lt;name&gt;</strong> 不太常见。</p>
</li>
</ul>
<p style="text-align: justify; word-break: break-word; color: rgb(47, 47, 47); font-family: 'lucida grande', 'lucida sans unicode', lucida, helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif; font-size: 16px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 250, 242);">若要在其他方法里设置属性值，要遵守属性定义中所宣称的语义。例如：</p>
<pre style="padding: 9.5px; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; color: rgb(101, 123, 131); border-radius: 4px; word-break: break-all; word-wrap: normal; white-space: pre; border: 1px solid rgba(0, 0, 0, 0.14902); overflow: auto; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background: rgb(253, 246, 227);">
<code style="padding: 0px; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 12px; color: rgb(101, 123, 131); border-radius: 3px; border: none; white-space: pre; background-color: transparent;"><span style="color: rgb(133, 153, 0);">@interface</span> <span style="color: rgb(181, 137, 0);">EOCPerson</span> : <span style="color: rgb(181, 137, 0);">NSObject</span>
<span style="color: rgb(133, 153, 0);">@property</span> (<span style="color: rgb(133, 153, 0);">copy</span>) <span style="color: rgb(38, 139, 210);">NSString</span> *firstName;
<span style="color: rgb(133, 153, 0);">@property</span> (<span style="color: rgb(133, 153, 0);">copy</span>) <span style="color: rgb(38, 139, 210);">NSString</span> *lastName;
- (<span style="color: rgb(133, 153, 0);">id</span>)initWithFirstName:(<span style="color: rgb(38, 139, 210);">NSString</span>*)firstName
               lastName:(<span style="color: rgb(38, 139, 210);">NSString</span>*)lastName;
<span style="color: rgb(133, 153, 0);">@end</span></code>
</pre>
<p style="text-align: justify; word-break: break-word; color: rgb(47, 47, 47); font-family: 'lucida grande', 'lucida sans unicode', lucida, helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif; font-size: 16px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 250, 242);">实现方法（一定要遵循“copy”语义，因为“属性定义”相当于“类”和“待设置的属性值”之间所达成的契约）：</p>
<pre style="padding: 9.5px; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; color: rgb(101, 123, 131); border-radius: 4px; word-break: break-all; word-wrap: normal; white-space: pre; border: 1px solid rgba(0, 0, 0, 0.14902); overflow: auto; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background: rgb(253, 246, 227);">
<code style="padding: 0px; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 12px; color: rgb(101, 123, 131); border-radius: 3px; border: none; white-space: pre; background-color: transparent;">- (<span style="color: rgb(133, 153, 0);">id</span>)initWithFirstName:(<span style="color: rgb(38, 139, 210);">NSString</span> *)firstName lastName:(<span style="color: rgb(38, 139, 210);">NSString</span> *)lastName {
    <span style="color: rgb(133, 153, 0);">if</span> (<span style="color: rgb(133, 153, 0);">self</span> = [<span style="color: rgb(133, 153, 0);">super</span> init]) {
        _firstName = [firstName <span style="color: rgb(133, 153, 0);">copy</span>];
        _lastName = [lastName <span style="color: rgb(133, 153, 0);">copy</span>];
    }
    <span style="color: rgb(133, 153, 0);">return</span> <span style="color: rgb(133, 153, 0);">self</span>;
}</code>
</pre>
<p style="text-align: justify; word-break: break-word; color: rgb(47, 47, 47); font-family: 'lucida grande', 'lucida sans unicode', lucida, helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif; font-size: 16px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 250, 242);"><strong style="font-weight: bold;">要点</strong>：</p>
<ul style="padding: 0px; text-align: justify; word-break: break-word; color: rgb(47, 47, 47); font-family: 'lucida grande', 'lucida sans unicode', lucida, helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif; font-size: 16px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 250, 242);">
<li>通过“特质”来指定存储数据所需的正确语义。</li>
<li>开发 iOS 程序时应使用 <code style="padding: 2px 4px; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 12px; color: rgb(101, 123, 131); border-radius: 3px; border: none; white-space: pre-wrap; background-color: rgb(253, 246, 227);">nonatomic</code> 属性，因为 <code style="padding: 2px 4px; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 12px; color: rgb(101, 123, 131); border-radius: 3px; border: none; white-space: pre-wrap; background-color: rgb(253, 246, 227);">atomic</code> 属性会严重影响性能。</li>
</ul>
<p style="text-align: justify; word-break: break-word; color: rgb(47, 47, 47); font-family: 'lucida grande', 'lucida sans unicode', lucida, helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif; font-size: 16px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 250, 242);">原子性：并发编程中，若某操作具备整体性，即，系统其他部分无法观察到其中间步骤所生成的临时结果，只能看到操作前与操作后的结果，那么该操作就是“原子的”（atomic），或该操作具备“原子性”（atomicity）。</p>
<div style="padding: 10px 15px; border-left-width: 4px; border-left-style: solid; border-left-color: rgb(153, 153, 153); word-break: break-word; font-size: 15px; font-weight: 100; color: rgb(47, 47, 47); font-family: 'lucida grande', 'lucida sans unicode', lucida, helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif; font-style: normal; font-variant: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: whitesmoke;margin-left:40px;">
<div><br/></div>
<div style="font-size: 15px; font-weight: normal; text-align: justify; word-break: break-word;">
<div>主要来源：<a href="http://book.douban.com/subject/25829244/" target="_blank" style="color: rgb(64, 148, 199); text-decoration: none;">《Effective Objective-C 2.0》</a></div>
</div>
</div>
</div>
</body></html>